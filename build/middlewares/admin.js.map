{"version":3,"sources":["../../src/middlewares/admin.js"],"names":["admin","req","res","next","console","log","user","isAdmin","status","json","data","errors","value","body","email","msg","param","location","message","module","exports"],"mappings":";;;;;;;;AAAA;;SAEeA,K;;;;;yFAAf,iBAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAEIC,YAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;;AAFJ,iBAGQJ,GAAG,CAACK,IAAJ,CAASC,OAHjB;AAAA;AAAA;AAAA;;AAAA,6CAIaJ,IAAI,EAJjB;;AAAA;AAMID,YAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,cAAAA,IAAI,EAAE,EADa;AAEnBC,cAAAA,MAAM,EAAE,CACN;AACEC,gBAAAA,KAAK,EAAEX,GAAG,CAACY,IAAJ,CAASC,KADlB;AAEEC,gBAAAA,GAAG,EAAE,yBAFP;AAGEC,gBAAAA,KAAK,EAAE,SAHT;AAIEC,gBAAAA,QAAQ,EAAE;AAJZ,eADM,CAFW;AAUnBC,cAAAA,OAAO,EAAE;AAVU,aAArB;AANJ;AAAA;;AAAA;AAAA;AAAA;AAmBId,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAIa,OAAhB;;AAnBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAuBAC,MAAM,CAACC,OAAP,GAAiBpB,KAAjB","sourcesContent":["import userSchema from \"../models/schemas/userSchema\";\r\n\r\nasync function admin(req, res, next) {\r\n  try {\r\n    console.log(\"Admin middleware hit\");\r\n    if (req.user.isAdmin) {\r\n      return next();\r\n    }\r\n    res.status(400).json({\r\n      data: {},\r\n      errors: [\r\n        {\r\n          value: req.body.email,\r\n          msg: \"You can't add any hotel\",\r\n          param: \"invalid\",\r\n          location: \"body\",\r\n        },\r\n      ],\r\n      message: \"Unable to create user\",\r\n    });\r\n  } catch (err) {\r\n    console.log(err.message);\r\n  }\r\n}\r\n\r\nmodule.exports = admin;\r\n"],"file":"admin.js"}