{"version":3,"sources":["../../../src/controller/user/orderControler.js"],"names":["postOrder","req","res","body","checkIn","checkOut","name","userId","phone","totalPerson","hotelId","checkInDate","Date","orderSchems","find","$and","$lte","$not","order","console","log","length","save","status","json","data","errors","message"],"mappings":";;;;;;;;;;;;;AAAA;;AAEO,IAAMA,SAAS;AAAA,2FAAG,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAGnBD,GAAG,CAACE,IAHe,EAEbC,OAFa,aAEbA,OAFa,EAEJC,QAFI,aAEJA,QAFI,EAEMC,IAFN,aAEMA,IAFN,EAEYC,MAFZ,aAEYA,MAFZ,EAEoBC,KAFpB,aAEoBA,KAFpB,EAE2BC,WAF3B,aAE2BA,WAF3B,EAEwCC,OAFxC,aAEwCA,OAFxC;AAIjBC,YAAAA,WAJiB,GAIH,IAAIC,IAAJ,CAASR,OAAT,CAJG;AAAA;AAAA,mBAKHS,wBAAYC,IAAZ,CAAiB;AACjCJ,cAAAA,OAAO,EAAEA,OADwB;AAEjCK,cAAAA,IAAI,EAAE,CACJ;AAAEX,gBAAAA,OAAO,EAAE;AAAEY,kBAAAA,IAAI,EAAEL;AAAR;AAAX,eADI,EAEJ;AAAEN,gBAAAA,QAAQ,EAAE;AAAEY,kBAAAA,IAAI,EAAE;AAAED,oBAAAA,IAAI,EAAEL;AAAR;AAAR;AAAZ,eAFI;AAF2B,aAAjB,CALG;;AAAA;AAKjBO,YAAAA,KALiB;AAYrBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AACA,gBAAIA,KAAK,CAACG,MAAN,IAAgB,CAApB,EAAuB;AACrBF,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD;;AACDF,YAAAA,KAAK,GAAG,IAAIL,uBAAJ,CAAgB;AACtBT,cAAAA,OAAO,EAAPA,OADsB;AAEtBC,cAAAA,QAAQ,EAARA,QAFsB;AAGtBC,cAAAA,IAAI,EAAJA,IAHsB;AAItBI,cAAAA,OAAO,EAAPA,OAJsB;AAKtBH,cAAAA,MAAM,EAANA,MALsB;AAMtBC,cAAAA,KAAK,EAALA,KANsB;AAOtBC,cAAAA,WAAW,EAAXA;AAPsB,aAAhB,CAAR;AAhBqB;AAAA,mBAyBfS,KAAK,CAACI,IAAN,EAzBe;;AAAA;AA0BrBpB,YAAAA,GAAG,CAACqB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,cAAAA,IAAI,EAAEP,KADa;AAEnBQ,cAAAA,MAAM,EAAE,EAFW;AAGnBC,cAAAA,OAAO,EAAE;AAHU,aAArB;AA1BqB;AAAA;;AAAA;AAAA;AAAA;AAgCrBR,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAMO,OAAlB;;AAhCqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAT3B,SAAS;AAAA;AAAA;AAAA,GAAf","sourcesContent":["import orderSchems from \"../../models/schemas/orderSchema\";\r\n\r\nexport const postOrder = async (req, res) => {\r\n  try {\r\n    const { checkIn, checkOut, name, userId, phone, totalPerson, hotelId } =\r\n      req.body;\r\n    let checkInDate = new Date(checkIn);\r\n    let order = await orderSchems.find({\r\n      hotelId: hotelId,\r\n      $and: [\r\n        { checkIn: { $lte: checkInDate } },\r\n        { checkOut: { $not: { $lte: checkInDate } } },\r\n      ],\r\n    });\r\n    console.log(order);\r\n    if (order.length == 5) {\r\n      console.log(\"Hotel full\");\r\n    }\r\n    order = new orderSchems({\r\n      checkIn,\r\n      checkOut,\r\n      name,\r\n      hotelId,\r\n      userId,\r\n      phone,\r\n      totalPerson,\r\n    });\r\n    await order.save();\r\n    res.status(200).json({\r\n      data: order,\r\n      errors: [],\r\n      message: \"Order Place successfully\",\r\n    });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n"],"file":"orderControler.js"}